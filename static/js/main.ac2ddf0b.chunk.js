(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports={Snake_dot:"Snake_Snake_dot__30Fav"}},31:function(e,t,a){e.exports={Snake_food:"Food_Snake_food__2i1Lt",rotate:"Food_rotate__3lwpo",rotation:"Food_rotation__1J3y1"}},32:function(e,t,a){e.exports={Modal:"Modal_Modal__3ihEg"}},33:function(e,t,a){e.exports={BackDrop:"BackDrop_BackDrop__1WDul"}},34:function(e,t,a){e.exports={Button:"Button_Button__HOrbw"}},35:function(e,t,a){e.exports={InputTextField:"InputTextField_InputTextField__3_wPH"}},36:function(e,t,a){e.exports={Register:"Register_Register__2UOSc"}},38:function(e,t,a){e.exports={Login:"Login_Login__1D3NE"}},39:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__2ZZgr"}},40:function(e,t,a){e.exports={Content:"Layout_Content__dWw14"}},45:function(e,t,a){e.exports=a(77)},50:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),s=a.n(o),c=(a(50),a(2)),i=a(3),l=a(5),u=a(4),d=a(6),h=a(43),m=a(12),p=a(30),f=a.n(p),g=function(e){var t=e.snakeBlocks;return r.a.createElement("div",null,t.map(function(e,t){var a={left:"".concat(e[0],"%"),top:"".concat(e[1],"%")};return r.a.createElement("div",{className:f.a.Snake_dot,key:t,style:a})}))},v=a(31),k=a.n(v),b=function(e){var t={background:"".concat(e.color),left:"".concat(e.dot[0],"%"),top:"".concat(e.dot[1],"%")};return r.a.createElement("div",{className:k.a.Snake_food,style:t})},O=a(32),E=a.n(O),S=a(33),w=a.n(S),y=function(e){return e.show?r.a.createElement("div",{onClick:e.clicked,className:w.a.BackDrop}):null},j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).shouldComponentUpdate=function(e,t){return e.show!==a.props.show||e.children!==a.props.children},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{show:this.props.show,clicked:this.props.modalClosed}),r.a.createElement("div",{className:E.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),t}(n.Component),C=a(11),x=a(10),_=a.n(x),L=a(14),B=a(13),N=a(44),F=a(34),H=a.n(F),M=function(e){var t=e.onClick,a=Object(N.a)(e,["onClick"]);return r.a.createElement("div",null,r.a.createElement("button",Object.assign({className:H.a.Button,onClick:t},a),e.children))},D=a(35),I=a.n(D),R=function(e){return r.a.createElement("input",Object.assign({className:I.a.InputTextField},e))},U=a(36),T=a.n(U),G=a(37),W=a.n(G).a.create({baseURL:"https://snake-game-9529f.firebaseio.com/"}),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).alreadyExists=function(){var e=Object(B.a)(_.a.mark(function e(t){var a,n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.get("users.json");case 3:for(r in a=e.sent,n=[],a.data)n.push(Object(L.a)({},a.data[r],{id:r}));if(!n.find(function(e){return e.email===t})){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=Object(B.a)(_.a.mark(function e(){var t,n,r,o,s,c;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),t=a.props.modalClosed,n=a.state,r=n.email,o=n.name,s=n.password,c={email:r,name:o,password:s},e.next=6,a.alreadyExists(r);case 6:if(!e.sent){e.next=11;break}return alert("User already exists"),t(),e.abrupt("return");case 11:W.post("users.json",c).then(function(e){a.setState({isLoading:!1}),t()}).catch(function(e){a.setState({isLoading:!1}),t()});case 12:case"end":return e.stop()}},e)})),a.handleOnChange=function(e){return function(t){a.setState(Object(C.a)({},e,t.target.value))}},a.state={email:"",name:"",password:"",isLoading:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.name,n=e.password,o=e.isLoading;return r.a.createElement("div",{className:T.a.Register},r.a.createElement("h1",null,"Register"),r.a.createElement(R,{type:"text",name:"email",placeholder:"Email",value:t,onChange:this.handleOnChange("email")}),r.a.createElement(R,{type:"text",name:"name",placeholder:"Name",value:a,onChange:this.handleOnChange("name")}),r.a.createElement(R,{type:"password",name:"password",placeholder:"password",value:n,onChange:this.handleOnChange("password")}),r.a.createElement(M,{onClick:this.handleSubmit,disabled:o},o?"Loading...":"Register"))}}]),t}(n.Component),A=a(38),J=a.n(A),z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).checkCredentials=function(){var e=Object(B.a)(_.a.mark(function e(t,n){var r,o,s,c;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({isLoading:!0}),e.next=4,W.get("users.json");case 4:for(s in r=e.sent,o=[],r.data)o.push(Object(L.a)({},r.data[s],{id:s}));if(c=o.find(function(e){return e.email===t})){e.next=13;break}return alert("User does not exists"),e.abrupt("return",!1);case 13:if(c.password===n){e.next=18;break}return alert("Incorrect Password"),e.abrupt("return",!1);case 18:return localStorage.setItem("user",c),e.abrupt("return",!0);case 20:e.next=25;break;case 22:throw e.prev=22,e.t0=e.catch(0),e.t0;case 25:case"end":return e.stop()}},e,null,[[0,22]])}));return function(t,a){return e.apply(this,arguments)}}(),a.handleSubmit=Object(B.a)(_.a.mark(function e(){var t,n,r,o;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.modalClosed,n=a.state,r=n.email,o=n.password,e.next=4,a.checkCredentials(r,o);case 4:a.setState({isLoading:!1}),t();case 6:case"end":return e.stop()}},e)})),a.handleOnChange=function(e){return function(t){a.setState(Object(C.a)({},e,t.target.value))}},a.state={email:"",password:"",isLoading:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.isLoading;return r.a.createElement("div",{className:J.a.Login},r.a.createElement("h1",null,"Login"),r.a.createElement(R,{type:"text",name:"email",placeholder:"Email",onChange:this.handleOnChange("email")}),r.a.createElement(R,{type:"password",name:"password",placeholder:"password",onChange:this.handleOnChange("password")}),r.a.createElement(M,{onClick:this.handleSubmit},e?"Loading...":"Login"))}}]),t}(n.Component),Y=a(39),Z=a.n(Y),V={display:"flex",justifyContent:"space-between"},$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleModalOpen=function(e){a.setState(Object(C.a)({},e,!0))},a.handleModalClose=function(){a.setState({register:!1,login:!1})},a.handleLogout=function(){localStorage.removeItem("user")},a.renderForm=function(){var e=a.state,t=e.login,n=e.register;return t?r.a.createElement(z,{modalClosed:function(){return a.handleModalClose("login")}}):n?r.a.createElement(P,{modalClosed:function(){return a.handleModalClose("register")}}):null},a.renderAuthOptions=function(){return localStorage.getItem("user")?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{cursor:"pointer",marginLeft:"20px"},onClick:function(){return a.handleModalOpen("register")}},"LeaderBoard"),r.a.createElement("h2",{style:{cursor:"pointer",marginLeft:"20px"},onClick:a.handleLogout},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{cursor:"pointer",marginLeft:"20px"},onClick:function(){return a.handleModalOpen("register")}},"Register"),r.a.createElement("h2",{style:{cursor:"pointer",marginLeft:"20px"},onClick:function(){return a.handleModalOpen("login")}},"Login"))},a.state={register:!1,login:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.register,a=e.login;return r.a.createElement("div",null,r.a.createElement("nav",{className:Z.a.NavBar},r.a.createElement("h2",{style:{cursor:"pointer"}},"Snake Game"),r.a.createElement("div",{style:V},r.a.createElement(j,{show:t||a,modalClosed:this.handleModalClose},this.renderForm()),this.renderAuthOptions())))}}]),t}(n.Component),q=function(){return[2*Math.floor((98*Math.random()+1)/2),2*Math.floor((98*Math.random()+1)/2)]},K=a(9);var Q={UP:38,DOWN:40,LEFT:37,RIGHT:39},X={UP:87,DOWN:83,LEFT:65,RIGHT:68},ee=1;function te(e){var t=e.state,a=t.snakeBlocks,n=t.direction,r=Object(K.a)(a),o=r[r.length-1];switch(n){case"Right":o=[o[0]+2,o[1]];break;case"Left":o=[o[0]-2,o[1]];break;case"Down":o=[o[0],o[1]+2];break;case"Up":o=[o[0],o[1]-2]}r.push(o),r.shift(),e.setState({snakeBlocks:r})}function ae(e){var t=e.state.snakeBlocks,a=Object(K.a)(t),n=q();return a.forEach(function(e){n[0]===e[0]&&n[1]===e[1]&&(n=q())}),n}function ne(e){var t=e.state,a=t.snakeBlocks,n=t.food,r=t.bonusFood,o=t.score,s=a[a.length-1];s[0]===r[0]&&s[1]===r[1]&&(e.setState({bonusFood:[-2,-2],score:o+3}),function(e){for(var t=e.state.snakeBlocks,a=0;a<=2;a++)t.shift();e.setState({snakeBlocks:t})}(e)),s[0]===n[0]&&s[1]===n[1]&&(e.setState({food:ae(e)}),function(e){var t=e.state,a=t.snakeBlocks,n=t.score,r=t.speed,o=Object(K.a)(a);o.unshift([]),e.setState({snakeBlocks:Object(K.a)(o),speed:r>30&&n%2===0?r-10:r,score:n+1,bonusFood:n+ee>2&&(n+ee)%10===0?ae(e):[-2,-2]},function(){return function(e){var t=e.state.score;t>=20?e.setState({level:"Veteran"}):t>=15?e.setState({level:"Expert"}):t>=10?e.setState({level:"Amateur"}):t>=5&&e.setState({level:"Beginner"})}(e)})}(e))}var re=a(40),oe=a.n(re),se=function(e){return r.a.createElement("div",null,r.a.createElement($,null),r.a.createElement("main",{className:oe.a.Content},e.children))},ce={level:"Noob",direction:"Right",speed:200,score:0,arcadeHighestScore:localStorage.arcadeHighestScore||0,classicHighestScore:localStorage.classicHighestScore||0,food:q(),bonusFood:[-2,-2],snakeBlocks:[[0,0],[2,0],[4,0],[6,0],[8,0],[10,0]],gameOver:!1,classic:!1},ie=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).renderGameOver=function(){return a.state.gameOver?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",color:"white",position:"relative",marginTop:"30%"}},r.a.createElement("h1",{style:{display:"flex",justifyContent:"space-around",color:"#53f6c7",fontSize:"3rem"}},"Game Over"),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement("button",{className:"ModeButton",onClick:function(){a.setState({classic:!1}),a.onGameOver()}},"Arcade"),r.a.createElement("button",{className:"ModeButton",onClick:function(){a.onGameOver(),a.setState({classic:!0})}},"Classic"))):null},a.state=ce,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){"classic"===this.props.match.params.mode&&this.setState({classic:!0})}},{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){return te(e)},this.state.speed),window.onkeydown=function(t){return function(e,t){e=e||window.event;var a=t.state.direction;switch(e.keyCode){case Q.UP:case X.UP:"Down"!==a&&"Up"!==a&&t.setState({direction:"Up"});break;case Q.DOWN:case X.DOWN:"Up"!==a&&"Down"!==a&&t.setState({direction:"Down"});break;case Q.LEFT:case X.LEFT:"Right"!==a&&"Left"!==a&&t.setState({direction:"Left"});break;case Q.RIGHT:case X.RIGHT:"Left"!==a&&"Right"!==a&&t.setState({direction:"Right"})}}(t,e)}}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"componentDidUpdate",value:function(){var e=this,t=this.state.score;!function(e){var t=0,a=e.state,n=a.snakeBlocks,r=a.direction,o=a.classic,s=Object(K.a)(n),c=s[s.length-1];o&&("Right"===r&&c[0]>=98?(c=[0,c[1]],t=1):"Left"===r&&c[0]<=0?(c=[98,c[1]],t=1):"Down"===r&&c[1]>=98?(c=[c[0],0],t=1):"Up"===r&&c[1]<=0&&(c=[c[0],98],t=1),s.push(c),s.shift(),t&&e.setState({snakeBlocks:s}))}(this),function(e){var t=e.state,a=t.snakeBlocks,n=t.classic,r=t.gameOver,o=Object(K.a)(a),s=o[o.length-1];n||!(s[0]>=100||s[1]>=100||s[0]<0||s[1]<0)||r||e.setState({gameOver:!0})}(this),function(e){var t=e.state,a=t.snakeBlocks,n=t.gameOver,r=Object(K.a)(a),o=r[r.length-1];r.pop(),r.forEach(function(t){o[0]===t[0]&&o[1]===t[1]&&(n||e.setState({gameOver:!0}))})}(this),ne(this),function(e){var t=e.state,a=t.score,n=t.classicHighestScore,r=t.arcadeHighestScore,o=t.classic;o&&a>n&&e.setState({classicHighestScore:a}),o||a>r&&e.setState({arcadeHighestScore:a})}(this),t%2===0&&(clearInterval(this.interval),this.interval=setInterval(function(){return te(e)},this.state.speed))}},{key:"onGameOver",value:function(){var e=this.state,t=e.classicHighestScore,a=e.arcadeHighestScore;e.classic?(localStorage.setItem("classicHighestScore",t),ce.classicHighestScore=t):(localStorage.setItem("arcadeHighestScore",a),ce.arcadeHighestScore=a),this.setState(ce)}},{key:"render",value:function(){var e=this.state,t=e.snakeBlocks,a=e.food,n=e.bonusFood,o=e.score,s=e.classicHighestScore,c=e.arcadeHighestScore,i=e.level,l=e.gameOver,u=e.classic;return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,null,r.a.createElement("div",{className:"game-area"},l?this.renderGameOver():r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{snakeBlocks:t}),r.a.createElement(b,{dot:a,color:"red"}),o%10===0&&o>2?r.a.createElement(b,{color:"yellow",dot:n}):null)),r.a.createElement("div",{style:{color:"#53f6c7",position:"relative",margin:"2px auto",width:"500px",display:"flex",justifyContent:"space-between"}},r.a.createElement("h3",null,"Score: ",o),r.a.createElement("h3",null,"High Score: ",u?s:c),r.a.createElement("h3",null,"Level: ",i))))}}]),t}(n.Component),le=function(e){return r.a.createElement(se,null,r.a.createElement("div",{className:"game-area"},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",color:"white",position:"relative",marginTop:"30%"}},r.a.createElement("h1",{style:{display:"flex",justifyContent:"space-around",color:"#53f6c7",fontSize:"3rem"}},"Play Game"),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement("button",{className:"ModeButton",onClick:function(){e.history.push("/play/arcade")}},"Arcade"),r.a.createElement("button",{className:"ModeButton",onClick:function(){e.history.push("/play/classic")}},"Classic")))))},ue=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/play/:mode",component:ie}),r.a.createElement(m.a,{path:"/",component:le}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,1,2]]]);
//# sourceMappingURL=main.ac2ddf0b.chunk.js.map